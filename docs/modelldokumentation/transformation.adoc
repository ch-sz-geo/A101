== [todo] Modelltransformationen
=== [todo: evtl. löschen] Transformation vom Bearbeitungsmodell ins Publikationsmodell
* Quellmodell: https://raw.githubusercontent.com/ch-sz-geo/A064/refs/heads/main/models/SZ_Schutzwald_V1_Bearbeitung.ili[Bearbeitungsmodell "SZ_Schutzwald_V1" (Version: 2025-01-23)]
* Zielmodell: https://raw.githubusercontent.com/ch-sz-geo/A064/refs/heads/main/models/SZ_Schutzwald_V1.ili[Publikationsmodell verwaltungsintern "SZ_Schutzwald_V1_Bearbeitung" (Version: 2025-01-23)]

=== Transformation ins minimale Geodatenmodell des Bundes
* Quellmodell: Das hier beschriebene Datenmodell
* Zielmodell: https://models.geo.admin.ch/BAFU/Kant_Gewaesserzustand_V1_2.ili[Kant_Gewaesserzustand_V1_2 (Version: 2024-04-08)]

==== Klasse `+Messnetz+`
[cols=2*,options="header"]
|===
| Quellattribut | Zielattribut
| `+Messnetz.Bezeichnung+`
| `+Name+`
| - - -
| `+Abkuerzung+`
| `+Messnetz.Bemerkung+`
| `+Beschreibung+`
| `+Messnetz.gueltigVon+`
| `+Gueltig_von+`
| `+Messnetz.gueltigBis+`
| `+Gueltig_bis+`
|===

==== [todo] Klasse `+Werterhebung+`
[cols=2*,options="header"]
|===
| Quellattribut | Zielattribut
| todo
| `+Parameter+`
| todo
| `+Gueltig_von+`
| todo
| `+Gueltig_bis+`
| todo
| `+Erhebung+`
| todo
| `+Periodizitaet+`
| todo
| `+Vorgaenger+`
|===

==== [todo] Klasse `+Messgruppierung+`
[cols=2*,options="header"]
|===
| Quellattribut | Zielattribut
| todo
| `+Gewaessername+`
| todo
| `+Ortsbezeichnung+`
| todo
| `+Code+`
| todo
| `+Gueltig_von+`
| todo
| `+Gueltig_bis+`
| todo
| `+Art_Gruppierung+`
| todo
| `+Gewaessertyp+`
| todo
| `+Einzugsgebietsgroesse+`
| todo
| `+Mittlere_Hoehe+`
| todo
| `+Vergletscherungsgrad+`
| todo
| `+URL_Datenblatt_Kanton+`
|===

==== [todo] Klasse `+Standort+`
[cols=2*,options="header"]
|===
| Quellattribut | Zielattribut
| todo
| `+Punkt+`
| todo
| `+Polygon+`
|===

==== [todo] Klasse `+Verantwortlichkeit+`
[cols=2*,options="header"]
|===
| Quellattribut | Zielattribut
| todo
| `+Organisation+`
| todo
| `+Abkuerzung+`
| todo
| `+Abteilung+`
| todo
| `+Sektion+`
| todo
| `+Email+`
| todo
| `+Link+`
|===

==== [todo] Klasse `+Adresse+`
[cols=2*,options="header"]
|===
| Quellattribut | Zielattribut
| todo
| `+Strasse+`
| todo
| `+Hausnummer+`
| todo
| `+Adresszusatz+`
| todo
| `+Postfach+`
| todo
| `+PLZ+`
| todo
| `+Ort+`
| todo
| `+Kanton+`
| todo
| `+Land+`
|===

==== [todo] Klasse `+Telefon+`
[cols=2*,options="header"]
|===
| Quellattribut | Zielattribut
| todo
| `+Nummer+`
| todo
| `+Typ+`
|===

=== [todo] Transformation ins WebGIS
* Quellmodell: Das hier beschriebene Datenmodell
* Zielmodell: keines (siehe unten)

==== [todo] Allgemeines
Für die WebGIS-Publikation werden die Daten optimiert. Dies ist häufig mit einer Denormalisierung verbunden ("flachwalzen" der Daten). Der Attributumfang richtet sich nach den Anforderungen der zuständigen Stelle und ist im Normalfall geringer als im Ausgangsmodell. Eine weitere Besonderheit kommt den Tabellen der WebGIS-Datenbank zu. Sie weisen Standard-Spalten auf, welche nicht Teil des Datenmodells sind. Es handelt sich um folgende Spalten:

**Standardspalten:**
[cols=2*,options="header"]
|===
| Spaltenname | Beschreibung
m| id | eindeutige Identifikation des Objektes; kann von der OID der Ausgangsdaten abweichen, falls Objekte zum Zweck der Publikation aufgeteilt werden müssen
m| etl_dt | Zeitstempel, an dem der Datensatz in die Tabelle geschrieben wurde (etl: extract - transfer - load)
m| etl_job | Name des Jobs, mit dem die Daten auf die Tabelle geschrieben wurde
m| asof_dt | Datum, an dem am Datensatz die letzten Änderungen vorgenommen wurden. Dieser Wert wird in den Metadaten des Datensatzes nachgeführt.
|===

Das WebGIS bezieht die Daten direkt aus der Datenbank. Aus diesem Grund wird nachfolgend von "Tabelle" und "Spalte" anstelle von "Klasse" und "Attribut" gesprochen. Der Klassenname erscheint lediglich in der Überschrift.

==== Tabelle der `+Waldgrenze+`
[cols=2*,options="header"]
|===
| Quellattribut | Zielspalte
| - - - | (Standardspalten gemäss den Angaben oben)
| `+Typ.Code+` +
hergeleitet über `+Waldgrenze.rTyp+` m| typ
| `+Typ.Name+` +
hergeleitet über `+Waldgrenze.rTyp+` m| bezeichnung
m| Waldgrenze.Geometrie m| geom
|===

==== [todo] Tabelle der `+Stockgrenze+`
[cols=2*,options="header"]
|===
| Quellattribut | Zielspalte
| - - - | (Standardspalten gemäss den Angaben oben)
| `+Verfahren.Verfuegungsnummer+` +
hergeleitet über: +
`+Stockgrenze.rWaldgrenze+` &#x2192; +
`+Waldgrenze.Begruendungsverfahren+`
m| verfuegung_datum_nr
m| Stockgrenze.Geometrie m| geom
|===

ifdef::backend-pdf[]
<<<
endif::[]

